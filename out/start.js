(()=>{function r(t={}){let e=document.createElement(t.type||"div");return e.innerHTML=t.text!=null?t.text:"",t.id!=null&&(e.id=t.id),Ae(e,t.classes),Pe(e,t.attributes),re(e,t.styles),N(e,t.data),t.selectable==!1&&re(e,{userSelect:"none"}),e}function Pe(t,e){if(t==null||e==null)return t;for(let n in e)t.setAttribute(n,e[n]);return t}function Ae(t,e){if(t==null||e==null)return t;for(let n of e)t.classList.add(n);return t}function re(t,e){if(t==null||e==null)return t;for(let n in e)t.style[n]=e[n];return t}function ie(t,e){if(t==null||e==null)return t;for(let n in e)t.addEventListener(n,e[n]);return t}function N(t,e){if(t==null||e==null)return t;for(let n in e)t.dataset[n]=e[n];return t}function j(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16))}var f=class{static register(e){let n=j();return this.globalRegistry.set(n,new J(e)),n}static set(e,n){var o;(o=this.globalRegistry.get(e))==null||o.set(n)}};f.globalRegistry=new Map;var J=class t{constructor(e){this.registry=new Map,this.context=e,this.start()}static getEventKeys(e){let n=[];return e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta"),["Control","Shift","Alt","Meta"].includes(e.key)||n.push(e.key.toUpperCase()),n.join("+")}static getShortcutKeys(e){let n=[];return e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta"),n.push(e.key.toUpperCase()),n.join("+")}static execute(e){e==null||e.callback==null||e.callback()}set(e){this.registry.set(t.getShortcutKeys(e),e)}start(){let e=this.registry;this.context.addEventListener("keyup",n=>t.handleEvent("keyup",e,n)),this.context.addEventListener("keydown",n=>t.handleEvent("keydown",e,n))}static handleEvent(e,n,o){let i=n==null?void 0:n.get(t.getEventKeys(o));if(i==null||e!=i.interaction||(i.preventDefault==!0&&o.preventDefault(),i.stopPropagation==!0&&o.stopPropagation(),!i.repeatable&&o.repeat))return;let s=o.target;i.omitEditableContent==!0&&t.isEditableContent(s)||this.execute(i)}static isEditableContent(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}};var D=new Map;function O(){let t=j();return D.set(t,[]),t}function se(t,e){if(D.has(t)==!1){console.error("Error connecting: The signal ".concat(t," does not exist."));return}D.get(t).push(e)}async function U(t,e=void 0){if(D.has(t)==!1)return;let n=D.get(t);for(let o of n)o(e);await Promise.all(n)}var W=class W{constructor(e,n=""){this.selectedSignal=O();this.buttons=[];this.selectedIndex=0;this.ui=r({classes:[W.CLASS,"box-column"],styles:{padding:"1rem 0"}});let o=0;for(let i of e){let s=r({type:"button",text:i,data:{index:"".concat(o)}});this.buttons.push(s),i==n&&(this.selectedIndex=o,this.selectedItem=s,this.selectedItem.classList.add("selected")),this.ui.appendChild(s),s.onclick=()=>s.focus(),s.onfocus=async()=>await this.show(+s.dataset.index);let a=f.register(s);f.set(a,{interaction:"keydown",key:"ARROWUP",callback:()=>this.buttons[this.selectedIndex-1<0?this.buttons.length-1:this.selectedIndex-1].focus()}),f.set(a,{interaction:"keydown",key:"ARROWDOWN",callback:()=>this.buttons[this.selectedIndex+1>=this.buttons.length?0:this.selectedIndex+1].focus()}),o++}}async show(e=void 0){this.selectedIndex=e;for(let n of this.buttons)n.classList.remove("selected");this.selectedItem=this.buttons[this.selectedIndex],this.selectedItem!=null&&(this.selectedItem.classList.add("selected"),await U(this.selectedSignal,this.selectedItem.innerText.toLocaleLowerCase()))}getUi(){return this.ui}getSelectedItem(){return this.selectedItem}};W.CLASS="menu";var K=W;function ae(t){return new Promise(e=>setTimeout(e,t))}function _(t,e){return e===!1||e===void 0||e===null?new Promise(n=>setTimeout(n,0)):new Promise(n=>setTimeout(n,t))}var h=class h{static async typing(e){if(h.enabled==!1)return;if(e.hasChildNodes())for(let o of e.children)await this.typing(o);if(!h.TEXT_ANIMATION_TAGS.includes(e.tagName.toLocaleLowerCase()))return;let n=e.innerText;e.innerText="";for(let o of n)e.innerHTML+=o,await _(h.CHARACTERS_PER_MILLISECOND_MIN*(1+Math.random()*.5),h.enabled)}static async show(e){await _(1,h.enabled),e.classList.add("show"),await _(1,h.enabled)}};h.enabled=!1,h.CHARACTERS_PER_MILLISECOND_MIN=.916666667/5*100,h.TEXT_ANIMATION_TAGS=["a","p","h1","h2","h3","h4","h5","h6","pre","code","span","div"];var l=h;var G=class{constructor(){this.output=async e=>console.log(e);this.updated=O();this.patterns=new Map}register(e,n){this.patterns.set(e,n)}async execute(e){console.debug("Executing: ".concat(e));let n=this.getCommandPipe(e);if(n==null){this.help();return}await n(this.output,e),await U(this.updated)}help(){this.output("Help"),this.output("-------------------------------------------"),this.output(""),this.output("This are the available commands:");for(let e of this.patterns.keys())this.output(e)}getCommandPipe(e){return this.patterns.get(e)}attach(e){this.output=e}};var k=class{static fixedInteger(e,n){let o="".concat(e),i=Math.max(n-o.length,0);return"".concat("0".repeat(i)).concat(o)}static humanReadableTime(e){if(e<=999)return"".concat(e,"ns");let n=e/1e3;if(n<=999)return"".concat(n,"ms");let o=n/1e3;if(o<=60)return"".concat(o,"s");let i=o/60;return i<=60?"".concat(i,"m"):"".concat(i/60,"h")}};var u=class{static currentNanoseconds(){return window.performance.now()*1e3}};var He="terminal",B,L,b;function ce(){L===void 0&&(B=new G,B.attach(t=>$e(t)),L=r({classes:[He]}),b=L)}function S(){b.innerHTML=""}async function M(t){let e=u.currentNanoseconds();if(L!=b){await B.execute(t),console.log("Rendered in",(u.currentNanoseconds()-e)/1e3,"ms");return}let n=r({classes:["in"],text:"$ visitor (".concat(new Date().toLocaleTimeString(),") \uFF5E ").concat(t)});b.appendChild(n),await l.typing(n),await B.execute(t);let o=r({type:"span",text:" - ".concat(k.humanReadableTime(u.currentNanoseconds()-e))});n.appendChild(o),await l.typing(o)}async function $e(t){let e=r({classes:["out"]});typeof t=="string"?e.innerHTML=t:e.appendChild(t),b==null||b.appendChild(e),await l.show(e)}function q(){return L}function X(){return B}function le(t){b=t!=null?t:L}var P=class{static async getGlobalCategoryStats(){return{stats:{languages:6,projects:32},summaries:[{name:"Developer tools",projects:12,languages:["typecript","html","css","golang"]},{name:"Games",projects:2,languages:["gdscript","C#"]},{name:"Websites",projects:10,languages:["html","css","typescript"]},{name:"Cli",projects:8,languages:["golang"]}]}}};var Ne="projects",je="side-panel";async function de(t,e){var a,d,p,E,v;let n=await P.getGlobalCategoryStats();await t("Found <a class='red'>".concat((d=(a=n==null?void 0:n.stats)==null?void 0:a.projects)!=null?d:0," projects</a> on projects directory.")),await t("Using <a class='red'>".concat((E=(p=n==null?void 0:n.stats)==null?void 0:p.languages)!=null?E:0," programming languages.</a>"));let o=r({type:"view",id:Ne,classes:["box-row","box-x-start"]}),i=new K(n.summaries.map(I=>I.name));o.appendChild(i.getUi());let s=r({id:je,classes:["box-column","box-x-start","box-x-start"]});o.appendChild(s),se(i.selectedSignal,I=>Oe(I,i,s)),await t(o),await i.show(0),(v=i.getSelectedItem())==null||v.click()}async function Oe(t,e,n){var o,i;((o=e.getSelectedItem())==null?void 0:o.innerHTML)!=t&&(le(n),S(),await M("ls ./projects/".concat((i=t==null?void 0:t.toLocaleLowerCase())!=null?i:"")))}var A="akrck02-config";async function pe(t){let e=await fetch(t).then(n=>n.json());if(localStorage[A]!=null)for(let n in e)C(n,e[n]);else localStorage[A]=JSON.stringify(e)}function C(t,e){let n=JSON.parse(localStorage[A]||"{}");n[t]=e,localStorage.setItem(A,JSON.stringify(n))}function m(t){return JSON.parse(localStorage[A])[t]}function ue(t){return m(t)!==void 0}function me(t){return m(t)==!0}var ge=new Map;async function Q(t,e){let n=await fetch(e).then(o=>o.json()).catch(console.error);ge.set(t,n)}function y(t,e,n="24px",o="#222222"){let i=ge.get(t);if(i==null)return;let s=i[e];if(s==null)return;let a='<svg height="'.concat(n,'" width="').concat(n,'" viewBox="0 0 24 24" fill="').concat(o,'">').concat(s||"","</svg>");return r({type:"div",text:a,styles:{display:"flex",justifyContent:"center",alignItems:"center"}})}var F;function he(t){let e=r({type:"header",id:"top-bar",classes:["box-x-between","box-y-center"]}),n=r({id:"left-container",classes:["box-x-start"]});e.appendChild(n);let o=y("material","terminal");n.appendChild(o),F=r({type:"h1",text:t}),n.appendChild(F);let i=r({id:"right-container",classes:["box-x-end"]}),s=y("social","github");i.appendChild(s!=null?s:r()),s.onclick=()=>window.open(m("github_repository"),"_blank");let a=y("material",l.enabled?"motion_photos_pause":"motion_play");i.appendChild(a!=null?a:r()),a.onclick=()=>{l.enabled=!l.enabled,C("animations",l.enabled),document.documentElement.dataset.animations="".concat(l.enabled),a.innerHTML=y("material",l.enabled?"motion_photos_pause":"motion_play").querySelector("svg").outerHTML};let d=y("material","folder");return i.appendChild(d!=null?d:r()),e.appendChild(i),e}async function g(t){F!==void 0&&(F.innerText=t)}var ee=new Map,te=async(t,e)=>{e.innerHTML="Home page."},ye=async(t,e)=>{e.innerHTML="Page not found."};function ne(t,e){if(t==null)return;if(t=t.trim(),t=="/"||t==""){te=e;return}t.indexOf("/")!=-1&&t.substring(t.length-1)=="/"&&(t=t.substring(0,t.length-1));let o=/\/(\$+)/g;t=t.replaceAll(o,"/([^/]+)"),ee.set(t,e)}function xe(t){ye=t}function Te(t){te=t}function be(t,e,n=!0){if(n&&(e.innerHTML=""),t=="/"||t==""){te([],e);return}let o=Array.from(ee.keys()).sort(Ke);for(let i of o){let s=RegExp(i),a=t.match(s);if(a!=null&&a.length!=0){ee.get(i)(a.slice(1),e);return}}ye([],e)}function Ke(t,e){let n=t.split("/").length-1,o=e.split("/").length-1;return n==o?0:n<o?1:-1}function We(t){let n={windows:"blue",linux:"red",godot:"blue",android:"green",steam:"darkblue","itch.io":"pink",playstore:"green"}[t],o=r({type:"span",text:t});return n!=null&&o.classList.add(n),o}function V(t){return We(t).outerHTML}var x=class{static getWebUrl(e=""){return e!=null||e!=""?"".concat(location.protocol,"//").concat(location.host,"/").concat(e):"".concat(location.protocol,"//").concat(location.host)}static getImageUrl(e=""){return"".concat(location.protocol,"//").concat(location.host,"/").concat(m("path").images,"/").concat(e)}static redirect(e,n=[]){location.href=this.getWebUrl("#/".concat(e,"/").concat(n.join("/")))}};var Ce={"linus tiny adventure":{name:"linus tiny adventure",description:"Pixelart 2D puzzle adventure.\nPlay as little guy trying to get to the next door.",git:"https://github.com/akrck02/linus-tiny-adventure",category:"game",technologies:["godot"],languages:["gdscript"],releases:["steam","itch.io"],platforms:["windows","linux"],image:"linus-tiny-adventure.png"},"Isometric pets":{name:"Isometric pets",description:"Pixelart 2D puzzle adventure.\nPlay as little guy trying to get to the next door.",git:"https://github.com/akrck02/isometric-pets",category:"game",technologies:["godot"],languages:["gdscript"],releases:["steam","playstore"],platforms:["android","windows","linux"],image:"isometric-pets.png"}};async function Ee(t,e){g("akrck02.org/projects/games");for(let n in Ce){let o=Ce[n],i=r({classes:["box-column"]}),s=r({text:o.name,classes:["box-row","box-x-start","box-y-center"],styles:{padding:".5rem 1rem",fontSize:"1.25rem",height:"3rem",width:"50rem",background:"var(--surface-1)",borderRadius:".75rem",backdropFilter:"var(--surfacce-1-blur)"}});i.appendChild(s);let a=r({classes:["box-row"],styles:{padding:"2.5rem 0rem"}});i.appendChild(a);let d=r({type:"img",attributes:{src:x.getImageUrl(o.image)},styles:{minWidth:"22rem",width:"22rem",height:"12rem",objectFit:"cover",background:"var(--surface-1)",borderRadius:".5rem",filter:"brightness(.9)",backdropFilter:"var(--surface-1-blur)"}});d.onerror=()=>{d.src=x.getImageUrl("not-found.png"),d.innerHTML="aaa"};let p=r({classes:["box-column"],styles:{padding:"0 2rem"}}),E=r({text:"Released on ".concat(o.releases.map(V).join(", "))});p.appendChild(E);let v=r({text:"Made with ".concat(o.technologies.map(V).join(", "))});p.appendChild(v);let I=r({text:"Platforms: ".concat(o.platforms.map(V).join(", "))});p.appendChild(I);let Be=r({text:'Description: <br> <span style="color: var(--on-surface-2)">'.concat(o.description.replaceAll("\n","<br>"),"</span>")});p.appendChild(Be),a.appendChild(d),a.appendChild(p),await t(i)}}var c=class c{static async show(e,n){g("akrck02.org");let o=u.currentNanoseconds(),i=r({type:"view",id:c.VIEW_ID,classes:["box-column","box-center"]}),s=r({id:c.CONTENT_ID,classes:["box-column","box-center"]}),a=r({type:"p",id:c.ECHO_ID,text:"echo"});s.appendChild(a);let d=r({type:"h1",id:c.TITLE_ID,text:"'Hello world'",classes:["box-row","box-center"]});s.appendChild(d);let p=r({type:"p",id:c.TIMESTAMP_ID});s.appendChild(p);let E=r({type:"h2",id:c.SUBTITLE_ID,text:"I\u2019m akrck02, a ".concat(new Date().getFullYear()-2e3," year old <br> software developer.")});s.appendChild(E);let v=c.createMiniTerminalWidget();s.appendChild(v);let I=r({classes:["box-x-center","box-row"]});i.appendChild(s),n.appendChild(i),document.getElementById(c.TIMESTAMP_ID).innerText="".concat(u.currentNanoseconds()-o,"ns")}static createMiniTerminalWidget(){let e=r({id:c.MINI_TERMINAL_WIDGET_ID,classes:["box-center"]}),n=r({id:c.MINI_TERMINAL_ID,classes:["box-row","box-x-start","box-y-center"]}),o=r({type:"span",id:c.DOLAR_SIGN_ID,text:"$"});n.appendChild(o);let i=r({type:"input",attributes:{placeholder:"cd ./projects",value:"cd ./projects"}});i.readOnly=!0,n.appendChild(i),e.appendChild(n);let s=r({type:"button",text:y("material","arrow_circle_right").outerHTML});return s.onclick=()=>x.redirect("projects"),e.appendChild(s),e}};c.VIEW_ID="home",c.CONTENT_ID="content",c.ECHO_ID="echo",c.TITLE_ID="title",c.TIMESTAMP_ID="timestamp",c.SUBTITLE_ID="subtitle",c.EXPLORE_LINK_ID="explore",c.MINI_TERMINAL_WIDGET_ID="mini-terminal-widget",c.MINI_TERMINAL_ID="mini-terminal",c.DOLAR_SIGN_ID="dolar";var R=c;var Y=class Y{static async show(e,n){let o=r({type:"view",id:Y.id,classes:["box-column","box-center"],styles:{height:"100%",width:"100%"}}),i=y("material","search","10rem","var(--surface-3)");o.appendChild(i);let s=r({type:"h1",text:"Page not found",styles:{color:"var(--surface-3)"}});o.appendChild(s);let a=r({type:"button",text:"Return home",styles:{marginTop:"1.5rem",color:"var(--on-surface-2)"}});o.appendChild(a),ie(a,{click:()=>{location.href="".concat(x.getWebUrl(),"#")}}),n.appendChild(o)}};Y.id="not-found";var H=Y;async function we(t,e){g("akrck02.org/projects"),await M("ls ./projects")}var z=class z{static async show(e,n){let o=u.currentNanoseconds(),i=r({type:"view",id:z.VIEW_ID,classes:["box-column","box-x-start","box-y-start"],styles:{width:"100%",height:"calc(100% - 11rem)"}}),s=r({type:"input",attributes:{placeholder:"$ ~"},styles:{width:"100%",height:"2rem",padding:".5rem 1rem",borderRadius:".5rem",magin:"1rem",fontSize:"1.25rem",background:"transparent",outline:"none"}}),a=f.register(s);f.set(a,{interaction:"keyup",key:"ENTER",callback:async()=>{n.removeChild(s),await M(s.value),n.appendChild(s),s.value="",window.scrollTo(0,document.body.scrollHeight)}}),S(),X().register("neofetch",async(p,E)=>{p("TERM")}),M("neofetch"),n.append(s),s.focus()}};z.VIEW_ID="terminal";var $=z;async function Me(t,e){g("akrck02.org/projects/developer tools")}async function ve(t,e){g("akrck02.org/projects/websites")}async function Ie(t,e){g("akrck02.org/projects/cli")}function Le(){return window.matchMedia("only screen and (max-width: 760px)").matches}function Se(){return window.matchMedia("only screen and (min-width: 760px) and (max-width: 1024px)").matches}function De(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)}function oe(){if(De()||Le()||Se()){N(document.documentElement,{display:"mobile"}),C("display","mobile");return}N(document.documentElement,{display:"desktop"}),C("display","desktop")}window.addEventListener("hashchange",ke);window.onload=async function(){await pe("gtdf.config.json"),document.title=m("app_name"),oe(),window.onresize=oe,_e(),await Q("material","".concat(m("path").icons,"/materialicons.json")),await Q("social","".concat(m("path").icons,"/socialicons.json"));let t=he("akrck02.org");document.body.appendChild(t),ce();let e=q();S(),ae(1),e.classList.add("show");let n=r({classes:["box-column"],id:"app-content"});n.appendChild(e),document.body.appendChild(n),await ke()};function _e(){ue("animations")===!1&&C("animations",!0),l.enabled=me("animations"),l.enabled&&(document.documentElement.dataset.animations="true")}async function ke(){Xe(),Ge(q()),document.body.style.transition="backgroundvar(--animation-slow)",document.body.style.backgroundImage=' url("'.concat(m("path").images,'/development.jpg")')}function Ge(t){Te(R.show),xe(H.show),ne("/projects",we),ne("/terminal",$.show),be(window.location.hash.slice(1).toLowerCase(),t)}function Xe(){let t=X();t.register("ls ./projects",de),t.register("ls ./projects/games",Ee),t.register("ls ./projects/developer tools",Me),t.register("ls ./projects/websites",ve),t.register("ls ./projects/cli",Ie)}})();
//# sourceMappingURL=start.js.map
