(()=>{function L(t){return new Promise(e=>setTimeout(e,t))}function H(t,e){return e===!1||e===void 0||e===null?new Promise(n=>setTimeout(n,0)):new Promise(n=>setTimeout(n,t))}var m=class m{static async typing(e){if(m.enabled==!1)return;if(e.hasChildNodes())for(let o of e.children)await this.typing(o);if(!m.TEXT_ANIMATION_TAGS.includes(e.tagName.toLocaleLowerCase()))return;let n=e.innerText;e.innerText="";for(let o of n)e.innerHTML+=o,await H(m.CHARACTERS_PER_MILLISECOND_MIN*(1+Math.random()*.5),m.enabled)}static async show(e){await H(1,m.enabled),e.classList.add("show"),await H(1,m.enabled)}};m.enabled=!1,m.CHARACTERS_PER_MILLISECOND_MIN=.916666667/5*100,m.TEXT_ANIMATION_TAGS=["a","p","h1","h2","h3","h4","h5","h6","pre","code","span","div"];var c=m;function r(t={}){let e=document.createElement(t.type||"div");return e.innerHTML=t.text!=null?t.text:"",t.id!=null&&(e.id=t.id),Ie(e,t.classes),De(e,t.attributes),V(e,t.styles),A(e,t.data),t.selectable==!1&&V(e,{userSelect:"none"}),e}function De(t,e){if(t==null||e==null)return t;for(let n in e)t.setAttribute(n,e[n]);return t}function Ie(t,e){if(t==null||e==null)return t;for(let n of e)t.classList.add(n);return t}function V(t,e){if(t==null||e==null)return t;for(let n in e)t.style[n]=e[n];return t}function A(t,e){if(t==null||e==null)return t;for(let n in e)t.dataset[n]=e[n];return t}var T=new Map;function x(t,e,n){T.has(t)||T.set(t,new Map),T.get(t).set(e,n)}async function S(t,e){if(console.debug("Executing: ".concat(e)),!T.has(t)||!T.get(t).has(e)){console.warn("The command ".concat(e," was not found on channel ").concat(t,"."));return}return await T.get(t).get(e)()}function X(t){var e;return(e=T.get(t))==null?void 0:e.keys()}async function Y(){let t=[];t.push(r({type:"p",text:"Help"})),t.push(r({type:"p",text:"-------------------------------------------"})),t.push(r({type:"p",text:""})),t.push(r({type:"p",text:"This are the available commands:"}));let e=X(l);for(let n of e)t.push(r({type:"p",text:n}));return t}var k="akrck02-config";async function z(t){let e=await fetch(t).then(n=>n.json());if(localStorage[k]!=null)for(let n in e)b(n,e[n]);else localStorage[k]=JSON.stringify(e)}function b(t,e){let n=JSON.parse(localStorage[k]||"{}");n[t]=e,localStorage.setItem(k,JSON.stringify(n))}function u(t){return JSON.parse(localStorage[k])[t]}function J(t){return u(t)!==void 0}function q(t){return u(t)==!0}var Q=new Map;async function j(t,e){let n=await fetch(e).then(o=>o.json()).catch(console.error);Q.set(t,n)}function C(t,e,n="24px",o="#222222"){let i=Q.get(t);if(i==null)return;let s=i[e];if(s==null)return;let a='<svg height="'.concat(n,'" width="').concat(n,'" viewBox="0 0 24 24" fill="').concat(o,'">').concat(s||"","</svg>");return r({type:"div",text:a,styles:{display:"flex",justifyContent:"center",alignItems:"center"}})}var B;function ee(t){let e=r({type:"header",id:"top-bar",classes:["box-x-between","box-y-center"]}),n=r({id:"left-container",classes:["box-x-start"]});e.appendChild(n);let o=C("material","terminal");n.appendChild(o),B=r({type:"h1",text:t}),n.appendChild(B);let i=r({id:"right-container",classes:["box-x-end"]}),s=C("social","github");i.appendChild(s!=null?s:r()),s.onclick=()=>window.open(u("github_repository"),"_blank");let a=C("material",c.enabled?"motion_photos_pause":"motion_play");return i.appendChild(a!=null?a:r()),a.onclick=()=>{c.enabled=!c.enabled,b("animations",c.enabled),document.documentElement.dataset.animations="".concat(c.enabled),a.innerHTML=C("material",c.enabled?"motion_photos_pause":"motion_play").querySelector("svg").outerHTML},e.appendChild(i),e}async function g(t){B!==void 0&&(B.innerText=t)}async function te(){return g("akrck02.org/projects/cli"),[]}async function ne(){return g("akrck02.org/projects/developer tools"),[]}function Ae(t){let n={windows:"blue",linux:"red",godot:"blue",android:"green",steam:"darkblue","itch.io":"pink",playstore:"green"}[t],o=r({type:"span",text:t});return n!=null&&o.classList.add(n),o}function P(t){return Ae(t).outerHTML}function oe(t=""){return t!=null||t!=""?"".concat(location.protocol,"//").concat(location.host,"/").concat(t):"".concat(location.protocol,"//").concat(location.host)}function K(t=""){return"".concat(location.protocol,"//").concat(location.host,"/").concat(u("path").images,"/").concat(t)}var re={"linus tiny adventure":{name:"linus tiny adventure",description:"Pixelart 2D puzzle adventure.\nPlay as little guy trying to get to the next door.",git:"https://github.com/akrck02/linus-tiny-adventure",category:"game",technologies:["godot"],languages:["gdscript"],releases:["steam","itch.io"],platforms:["windows","linux"],image:"linus-tiny-adventure.png"},"Isometric pets":{name:"Isometric pets",description:"Pixelart 2D puzzle adventure.\nPlay as little guy trying to get to the next door.",git:"https://github.com/akrck02/isometric-pets",category:"game",technologies:["godot"],languages:["gdscript"],releases:["steam","playstore"],platforms:["android","windows","linux"],image:"isometric-pets.png"}};async function ie(){let t=[];g("akrck02.org/projects/games");for(let e in re){let n=re[e],o=r({classes:["box-column"]}),i=r({text:n.name,classes:["box-row","box-x-start","box-y-center"],styles:{padding:".5rem 1rem",fontSize:"1.25rem",height:"3rem",width:"50rem",background:"var(--surface-1)",borderRadius:".75rem",backdropFilter:"var(--surfacce-1-blur)"}});o.appendChild(i);let s=r({classes:["box-row"],styles:{padding:"2.5rem 0rem"}});o.appendChild(s);let a=r({type:"img",attributes:{src:K(n.image)},styles:{minWidth:"22rem",width:"22rem",height:"12rem",objectFit:"cover",background:"var(--surface-1)",borderRadius:".5rem",filter:"brightness(.9)",backdropFilter:"var(--surface-1-blur)"}});a.onerror=()=>{a.src=K("not-found.png"),a.innerHTML="aaa"};let d=r({classes:["box-column"],styles:{padding:"0 2rem"}}),h=r({text:"Released on ".concat(n.releases.map(P).join(", "))});d.appendChild(h);let p=r({text:"Made with ".concat(n.technologies.map(P).join(", "))});d.appendChild(p);let f=r({text:"Platforms: ".concat(n.platforms.map(P).join(", "))});d.appendChild(f);let N=r({text:'Description: <br> <span style="color: var(--on-surface-2)">'.concat(n.description.replaceAll("\n","<br>"),"</span>")});d.appendChild(N),s.appendChild(a),s.appendChild(d),t.push(o)}return t}function v(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16))}var w=class{static register(e){let n=v();return this.globalRegistry.set(n,new U(e)),n}static set(e,n){var o;(o=this.globalRegistry.get(e))==null||o.set(n)}};w.globalRegistry=new Map;var U=class t{constructor(e){this.registry=new Map,this.context=e,this.start()}static getEventKeys(e){let n=[];return e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta"),["Control","Shift","Alt","Meta"].includes(e.key)||n.push(e.key.toUpperCase()),n.join("+")}static getShortcutKeys(e){let n=[];return e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),e.metaKey&&n.push("Meta"),n.push(e.key.toUpperCase()),n.join("+")}static execute(e){e==null||e.callback==null||e.callback()}set(e){this.registry.set(t.getShortcutKeys(e),e)}start(){let e=this.registry;this.context.addEventListener("keyup",n=>t.handleEvent("keyup",e,n)),this.context.addEventListener("keydown",n=>t.handleEvent("keydown",e,n))}static handleEvent(e,n,o){let i=n==null?void 0:n.get(t.getEventKeys(o));if(i==null||e!=i.interaction||(i.preventDefault==!0&&o.preventDefault(),i.stopPropagation==!0&&o.stopPropagation(),!i.repeatable&&o.repeat))return;let s=o.target;i.omitEditableContent==!0&&t.isEditableContent(s)||this.execute(i)}static isEditableContent(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}};var D=new Map;function se(){let t=v();return D.set(t,[]),t}function ae(t,e){if(D.has(t)==!1){console.error("Error connecting: The signal ".concat(t," does not exist."));return}D.get(t).push(e)}async function ce(t,e=void 0){if(D.has(t)==!1)return;let n=D.get(t);for(let o of n)o(e);await Promise.all(n)}var R=class R{constructor(e,n=""){this.selectedSignal=se();this.buttons=[];this.selectedIndex=0;this.ui=r({classes:[R.CLASS,"box-column"],styles:{padding:"1rem 0"}});let o=0;for(let i of e){let s=r({type:"button",text:i,data:{index:"".concat(o)}});this.buttons.push(s),i==n&&(this.selectedIndex=o,this.selectedItem=s,this.selectedItem.classList.add("selected")),this.ui.appendChild(s),s.onclick=()=>s.focus(),s.onfocus=async()=>await this.show(+s.dataset.index);let a=w.register(s);w.set(a,{interaction:"keydown",key:"ARROWUP",callback:()=>this.buttons[this.selectedIndex-1<0?this.buttons.length-1:this.selectedIndex-1].focus()}),w.set(a,{interaction:"keydown",key:"ARROWDOWN",callback:()=>this.buttons[this.selectedIndex+1>=this.buttons.length?0:this.selectedIndex+1].focus()}),o++}}async show(e=void 0){this.selectedIndex=e;for(let n of this.buttons)n.classList.remove("selected");this.selectedItem=this.buttons[this.selectedIndex],this.selectedItem!=null&&(this.selectedItem.classList.add("selected"),await ce(this.selectedSignal,this.selectedItem.innerText.toLocaleLowerCase()))}getUi(){return this.ui}getSelectedItem(){return this.selectedItem}};R.CLASS="menu";var $=R;async function le(){return{stats:{languages:6,projects:32},summaries:[{name:"Developer tools",projects:12,languages:["typecript","html","css","golang"]},{name:"Games",projects:2,languages:["gdscript","C#"]},{name:"Websites",projects:10,languages:["html","css","typescript"]},{name:"Cli",projects:8,languages:["golang"]}]}}async function de(){var s,a,d,h,p;let t=await le(),e=[];e.push(r({type:"p",text:"Found <a class='red'>".concat((a=(s=t==null?void 0:t.stats)==null?void 0:s.projects)!=null?a:0," projects</a> on projects directory.")})),e.push(r({type:"p",text:"Using <a class='red'>".concat((h=(d=t==null?void 0:t.stats)==null?void 0:d.languages)!=null?h:0," programming languages.</a>")}));let n=r({type:"view",id:"projects",classes:["box-row","box-x-start"]}),o=new $(t.summaries.map(f=>f.name));n.appendChild(o.getUi());let i=r({id:"side-panel",classes:["box-column","box-x-start","box-x-start"]});return n.appendChild(i),ae(o.selectedSignal,f=>Be(f,o,i)),e.push(n),await o.show(0),(p=o.getSelectedItem())==null||p.click(),e}async function Be(t,e,n){var o,i;((o=e.getSelectedItem())==null?void 0:o.innerHTML)!=t&&(n.innerHTML="",await pe(l,"ls ./projects/".concat((i=t==null?void 0:t.toLocaleLowerCase())!=null?i:""),n,!1))}async function ue(){return g("akrck02.org/projects/websites"),[]}var l=v();function me(){x(l,"help",Y),x(l,"ls ./projects",de),x(l,"ls ./projects/games",ie),x(l,"ls ./projects/developer tools",ne),x(l,"ls ./projects/websites",ue),x(l,"ls ./projects/cli",te),x(l,"yes",async()=>{let t=[];for(let e=0;e<100;e++)t.push(r({styles:{background:"var(--surface-2)",backdropFilter:"var(--surface-2-blur)",height:"2rem",width:"40rem"}}));return t})}function _(t){if(t<=999)return"".concat(t,"ns");let e=t/1e3;if(e<=999)return"".concat(e,"ms");let n=e/1e3;if(n<=60)return"".concat(n,"s");let o=n/60;return o<=60?"".concat(o,"m"):"".concat(o/60,"h")}function M(){return window.performance.now()*1e3}var I;function ge(){I===void 0&&(I=r({classes:["terminal"]}))}function he(){I.innerHTML=""}async function pe(t,e,n=void 0,o=!0){let i=M();n===void 0&&(n=I);let s;if(!o){let p=await S(t,e);p==null&&(p=await S(l,"help"));let f=_((M()-i)/1e3);console.debug("Rendered in",f);for(let N of p){let F=await fe(N);n.appendChild(F),L(1),await c.show(F)}return}s=r({classes:["in"],text:"$ visitor (".concat(new Date().toLocaleTimeString(),") \uFF5E ").concat(e)}),n.appendChild(s),await c.typing(s);let a=await S(t,e);a==null&&(a=await S(l,"help"));let d=_((M()-i)/1e3);console.debug("Rendered in",d);let h=r({type:"span",text:" - ".concat(d)});s.appendChild(h),await c.typing(h);for(let p of a){let f=await fe(p);n.appendChild(f),L(1),await c.show(f)}}async function fe(t){let e=r({classes:["out"]});return typeof t=="string"?e.innerHTML=t:e.appendChild(t),e}function G(){return I}var ye=new Map,xe=async(t,e)=>{e.innerHTML="Home page."},be=async(t,e)=>{e.innerHTML="Page not found."};function Ce(t){be=t}function we(t){xe=t}function Te(t,e,n=!0){if(n&&(e.innerHTML=""),t=="/"||t==""){xe([],e);return}let o=Array.from(ye.keys()).sort(Pe);for(let i of o){let s=RegExp(i),a=t.match(s);if(a!=null&&a.length!=0){ye.get(i)(a.slice(1),e);return}}be([],e)}function Pe(t,e){let n=t.split("/").length-1,o=e.split("/").length-1;return n==o?0:n<o?1:-1}async function Me(t,e){let n=r({type:"view",id:"not-found",classes:["box-column","box-center"],styles:{height:"100%",width:"100%"}}),o=C("material","search","10rem","var(--surface-3)");n.appendChild(o);let i=r({type:"h1",text:"Page not found",styles:{color:"var(--surface-3)"}});n.appendChild(i);let s=r({type:"button",text:"Return home",styles:{marginTop:"1.5rem",color:"var(--on-surface-2)"}});n.appendChild(s),s.onclick=()=>location.href="".concat(oe("#")),e.appendChild(n)}function Ee(){return window.matchMedia("only screen and (max-width: 760px)").matches}function ve(){return window.matchMedia("only screen and (min-width: 760px) and (max-width: 1024px)").matches}function Le(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)}function W(){if(Le()||Ee()||ve()){A(document.documentElement,{display:"mobile"}),b("display","mobile");return}A(document.documentElement,{display:"desktop"}),b("display","desktop")}async function Se(t,e){g("akrck02.org");let n=M(),o=r({type:"view",id:"home",classes:["box-column","box-center"]}),i=r({id:"content",classes:["box-column","box-center"]}),s=r({type:"p",id:"echo",text:"echo"});i.appendChild(s);let a=r({type:"h1",id:"title",text:"'Hello world'",classes:["box-row","box-center"]});i.appendChild(a);let d=r({type:"p",id:"timestamp"});i.appendChild(d);let h=r({type:"h2",id:"subtitle",text:"I\u2019m akrck02, a ".concat(new Date().getFullYear()-2e3," year old <br> software developer.")});i.appendChild(h);let p=r({type:"p",id:"",classes:["text-center"],text:"This website is currently under construction.",styles:{}});i.appendChild(p),o.appendChild(i),e.appendChild(o),document.getElementById("timestamp").innerText="".concat(M()-n,"ns")}window.addEventListener("hashchange",ke);window.onload=async function(){await z("gtdf.config.json"),document.title=u("app_name"),W(),window.onresize=W,$e(),await j("material","".concat(u("path").icons,"/materialicons.json")),await j("social","".concat(u("path").icons,"/socialicons.json"));let t=ee("akrck02.org");document.body.appendChild(t),ge();let e=G();he(),L(1),e.classList.add("show");let n=r({classes:["box-column"],id:"app-content"});n.appendChild(e),document.body.appendChild(n),await ke()};function $e(){J("animations")===!1&&b("animations",!0),c.enabled=q("animations"),c.enabled&&(document.documentElement.dataset.animations="true")}async function ke(){me(),Re(G()),document.body.style.transition="backgroundvar(--animation-slow)",document.body.style.backgroundImage=' url("'.concat(u("path").images,'/development.jpg")')}function Re(t){we(Se),Ce(Me),Te(window.location.hash.slice(1).toLowerCase(),t)}})();
//# sourceMappingURL=start.js.map
